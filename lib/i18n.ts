export type Locale = "en" | "sv" | "es";

const translations: Record<Locale, Record<string, string>> = {
  en: {
    // ── Login ──
    "login.title.signIn": "Sign in",
    "login.title.signUp": "Create account",
    "login.authFailed": "Authentication failed. Please try again.",
    "login.email": "Email",
    "login.password": "Password",
    "login.pleaseWait": "Please wait…",
    "login.signUp": "Sign up",
    "login.signIn": "Sign in",
    "login.switchToSignIn": "Already have an account? Sign in",
    "login.switchToSignUp": "Need an account? Sign up",
    "login.backHome": "← Back home",
    "login.checkEmail": "Check your email for the confirmation link.",
    "login.genericError": "Something went wrong",
    "login.loading": "Loading…",

    // ── Library ──
    "library.title": "Library",
    "library.signOut": "Sign out",
    "library.newStory": "New story",
    "library.createNewStory": "Create new story",

    // ── Book details dialog ──
    "bookDetails.delete": "Delete",
    "bookDetails.startReading": "Start reading",
    "bookDetails.close": "Close",
    "bookDetails.confirmDelete": "Delete this story?",
    "bookDetails.storyFallback": "Story",

    // ── Story card (debug) ──
    "storyCard.debugInfo": "Debug info",
    "storyCard.deleteStory": "Delete story",
    "storyCard.confirmDelete": "Delete this story?",
    "storyCard.formValues": "Form values (tone, length, words, tags)",
    "storyCard.storySpec": "Story spec",
    "storyCard.openaiPrompt": "OpenAI prompt (chapter 1)",
    "storyCard.noPrompt": "(No prompt stored)",
    "storyCard.openaiResponse": "OpenAI response (paragraphs)",
    "storyCard.noResponse": "(No response stored)",

    // ── Create page ──
    "create.backLibrary": "← Library",
    "create.title": "Create story",
    "create.debug": "Debug",
    "create.pocDebug": "POC Debug",
    "create.formValues": "Form values (tone, length, words, tags)",
    "create.storySpec": "Story spec (built from form)",
    "create.openaiPrompt": "OpenAI prompt (chapter 1)",
    "create.openaiNote": "OpenAI response appears in library after generating.",
    "create.tone": "Tone",
    "create.factsOnly": "Facts only?",
    "create.factsOnlyDesc": "Collect facts instead of a story",
    "create.wordsLabel": "Words or ideas for your story",
    "create.wordsPlaceholder": "e.g. a little rabbit, a magical forest, a friendly owl...",
    "create.tags": "Tags",
    "create.extraOptions": "Extra options",
    "create.language": "Language",
    "create.voiceQuality": "Voice quality",
    "create.voiceTier.standard": "Standard",
    "create.voiceTier.premium": "Premium",
    "create.narrator": "Narrator",
    "create.previewVoice": "Preview voice",
    "create.previewUnavailable": "Voice preview is not available.",
    "create.previewFailed": "Preview failed",
    "create.length": "Length",
    "create.length.micro": "Quick",
    "create.length.short": "Short",
    "create.length.medium": "Medium",
    "create.length.long": "Long",
    "create.include": "Include",
    "create.voiceNarration": "Voice narration",
    "create.toggleVoice": "Toggle voice narration",
    "create.illustrations": "Illustrations",
    "create.toggleIllustrations": "Toggle illustrations",
    "create.storyRules": "Story rules",
    "create.storyRulesPlaceholder": "e.g. It's Halloween themed. Santa is always the bad guy...",
    "create.creating": "Creating your story...",
    "create.generating": "Generating your story…",
    "create.generate": "Generate",
    "create.failedGenerate": "Failed to generate story",

    // ── Tone names ──
    "tone.cozy": "Cozy",
    "tone.funny": "Funny",
    "tone.adventurous": "Adventurous",
    "tone.informatical": "Informatical",
    "tone.cozy.desc": "Warm, gentle, bedtime-ready",
    "tone.funny.desc": "Playful, humorous",
    "tone.adventurous.desc": "Exciting, exploratory",
    "tone.informatical.desc": "Educational, science-for-kids style",

    // ── Story page ──
    "story.loading": "Loading…",
    "story.notFound": "Story not found.",
    "story.backLibrary": "← Library",
    "story.createNew": "Create new",
    "story.toneLabel": "Tone:",
    "story.lengthLabel": "Length:",
    "story.voiceFailed": "(Voice failed—check /api/debug/tts-config)",
    "story.addingMedia": "Adding voice and images…",
    "story.chapter": "Chapter",
    "story.viewFullSize": "View full size",
    "story.pause": "Pause",
    "story.play": "Play",
    "story.generatingNext": "Generating next chapter…",
    "story.nextPart": "Next part",
    "story.fallbackTitle": "Story",
    "story.directionLabel": "Add something to the story",
    "story.directionPlaceholder": "e.g. a dog, space, the sea",

    // ── Coins ──
    "coins.balance": "coins",
    "coins.cost": "coins",
    "coins.notEnough": "Not enough coins",
    "coins.insufficientError": "You need more coins to do this.",
    "coins.popup.title": "How coins work",
    "coins.popup.intro": "Coins are used to generate story chapters. You spend them when you create a new story or add a new part.",
    "coins.popup.whatAffects": "What affects the price",
    "coins.popup.length": "Length (Quick / Short / Medium / Long): longer chapters cost more.",
    "coins.popup.voice": "Voice: standard or premium voice adds to the cost.",
    "coins.popup.firstChapter": "The first chapter includes a cover image and costs more than later parts.",
    "coins.popup.examples": "Examples",
    "coins.popup.exampleShortTitle": "Short story",
    "coins.popup.exampleShortDesc": "1 chapter, Short length, with image and standard voice.",
    "coins.popup.exampleMediumTitle": "Medium story (premium voice)",
    "coins.popup.exampleMediumDesc": "1 chapter, Medium length, with image and premium voice.",
    "coins.popup.exampleLongTitle": "Long story",
    "coins.popup.exampleLongDesc": "3 chapters, Long length, with image and standard voice. First chapter, then each continuation. Total:",

    // ── Settings ──
    "settings.title": "Settings",
    "settings.language": "Language",
    "settings.storyDefaults": "Story defaults",
    "settings.theme": "Appearance",
    "settings.themeLight": "Light",
    "settings.themeDark": "Dark",
    "settings.themeSystem": "System",
    "settings.saveDefaults": "Save defaults",
    "settings.savedDefaultsNote": "Saved defaults are used when you create a new story.",
  },

  sv: {
    // ── Login ──
    "login.title.signIn": "Logga in",
    "login.title.signUp": "Skapa konto",
    "login.authFailed": "Inloggningen misslyckades. Försök igen.",
    "login.email": "E-post",
    "login.password": "Lösenord",
    "login.pleaseWait": "Vänta…",
    "login.signUp": "Registrera",
    "login.signIn": "Logga in",
    "login.switchToSignIn": "Har du redan ett konto? Logga in",
    "login.switchToSignUp": "Behöver du ett konto? Registrera",
    "login.backHome": "← Tillbaka",
    "login.checkEmail": "Kolla din e-post för bekräftelselänken.",
    "login.genericError": "Något gick fel",
    "login.loading": "Laddar…",

    // ── Library ──
    "library.title": "Bibliotek",
    "library.signOut": "Logga ut",
    "library.newStory": "Ny saga",
    "library.createNewStory": "Skapa ny saga",

    // ── Book details dialog ──
    "bookDetails.delete": "Radera",
    "bookDetails.startReading": "Börja läsa",
    "bookDetails.close": "Stäng",
    "bookDetails.confirmDelete": "Radera denna saga?",
    "bookDetails.storyFallback": "Saga",

    // ── Story card (debug) ──
    "storyCard.debugInfo": "Felsökningsinfo",
    "storyCard.deleteStory": "Radera saga",
    "storyCard.confirmDelete": "Radera denna saga?",
    "storyCard.formValues": "Formulärvärden (ton, längd, ord, taggar)",
    "storyCard.storySpec": "Berättelsespecifikation",
    "storyCard.openaiPrompt": "OpenAI-prompt (kapitel 1)",
    "storyCard.noPrompt": "(Ingen prompt sparad)",
    "storyCard.openaiResponse": "OpenAI-svar (stycken)",
    "storyCard.noResponse": "(Inget svar sparat)",

    // ── Create page ──
    "create.backLibrary": "← Bibliotek",
    "create.title": "Skapa saga",
    "create.debug": "Felsök",
    "create.pocDebug": "POC Felsökning",
    "create.formValues": "Formulärvärden (ton, längd, ord, taggar)",
    "create.storySpec": "Berättelsespec (byggd från formulär)",
    "create.openaiPrompt": "OpenAI-prompt (kapitel 1)",
    "create.openaiNote": "OpenAI-svaret visas i biblioteket efter generering.",
    "create.tone": "Ton",
    "create.factsOnly": "Bara fakta?",
    "create.factsOnlyDesc": "Samla fakta istället för en saga",
    "create.wordsLabel": "Ord eller idéer till din saga",
    "create.wordsPlaceholder": "t.ex. en liten kanin, en magisk skog, en vänlig uggla...",
    "create.tags": "Taggar",
    "create.extraOptions": "Fler alternativ",
    "create.language": "Språk",
    "create.voiceQuality": "Röstkvalitet",
    "create.voiceTier.standard": "Standard",
    "create.voiceTier.premium": "Premium",
    "create.narrator": "Berättare",
    "create.previewVoice": "Förhandsgranska röst",
    "create.previewUnavailable": "Röstförhandsgranskning är inte tillgänglig.",
    "create.previewFailed": "Förhandsgranskning misslyckades",
    "create.length": "Längd",
    "create.length.micro": "Snabb",
    "create.length.short": "Kort",
    "create.length.medium": "Medel",
    "create.length.long": "Lång",
    "create.include": "Inkludera",
    "create.voiceNarration": "Röstberättande",
    "create.toggleVoice": "Växla röstberättande",
    "create.illustrations": "Illustrationer",
    "create.toggleIllustrations": "Växla illustrationer",
    "create.storyRules": "Sagoregler",
    "create.storyRulesPlaceholder": "t.ex. Det är Halloween-tema. Tomten är alltid skurken...",
    "create.creating": "Skapar din saga...",
    "create.generating": "Genererar din saga…",
    "create.generate": "Generera",
    "create.failedGenerate": "Misslyckades att generera saga",

    // ── Tone names ──
    "tone.cozy": "Mysig",
    "tone.funny": "Rolig",
    "tone.adventurous": "Äventyrlig",
    "tone.informatical": "Lärorik",
    "tone.cozy.desc": "Varm, mild, redo för läggdags",
    "tone.funny.desc": "Lekfull, humoristisk",
    "tone.adventurous.desc": "Spännande, utforskande",
    "tone.informatical.desc": "Lärorik, vetenskap-för-barn-stil",

    // ── Story page ──
    "story.loading": "Laddar…",
    "story.notFound": "Sagan hittades inte.",
    "story.backLibrary": "← Bibliotek",
    "story.createNew": "Skapa ny",
    "story.toneLabel": "Ton:",
    "story.lengthLabel": "Längd:",
    "story.voiceFailed": "(Röst misslyckades—kolla /api/debug/tts-config)",
    "story.addingMedia": "Lägger till röst och bilder…",
    "story.chapter": "Kapitel",
    "story.viewFullSize": "Visa i fullstorlek",
    "story.pause": "Paus",
    "story.play": "Spela",
    "story.generatingNext": "Genererar nästa kapitel…",
    "story.nextPart": "Nästa del",
    "story.fallbackTitle": "Saga",
    "story.directionLabel": "Lägg till något i sagan",
    "story.directionPlaceholder": "t.ex. en hund, rymden, havet",

    // ── Coins ──
    "coins.balance": "mynt",
    "coins.cost": "mynt",
    "coins.notEnough": "Inte tillräckligt med mynt",
    "coins.insufficientError": "Du behöver fler mynt för detta.",
    "coins.popup.title": "Så fungerar mynten",
    "coins.popup.intro": "Mynt används för att generera sagokapitel. Du använder dem när du skapar en ny saga eller lägger till en ny del.",
    "coins.popup.whatAffects": "Vad påverkar priset",
    "coins.popup.length": "Längd (Snabb / Kort / Medel / Lång): längre kapitel kostar mer.",
    "coins.popup.voice": "Röst: standard- eller premiumröst lägger till kostnad.",
    "coins.popup.firstChapter": "Första kapitlet innehåller en omslagsbild och kostar mer än senare delar.",
    "coins.popup.examples": "Exempel",
    "coins.popup.exampleShortTitle": "Kort saga",
    "coins.popup.exampleShortDesc": "1 kapitel, kort längd, med bild och standardröst.",
    "coins.popup.exampleMediumTitle": "Medelsaga (premiumröst)",
    "coins.popup.exampleMediumDesc": "1 kapitel, medellängd, med bild och premiumröst.",
    "coins.popup.exampleLongTitle": "Lång saga",
    "coins.popup.exampleLongDesc": "3 kapitel, lång längd, med bild och standardröst. Första kapitlet, sedan varje fortsättning. Totalt:",

    // ── Settings ──
    "settings.title": "Inställningar",
    "settings.language": "Språk",
    "settings.storyDefaults": "Standard för sagor",
    "settings.theme": "Utseende",
    "settings.themeLight": "Ljust",
    "settings.themeDark": "Mörkt",
    "settings.themeSystem": "System",
    "settings.saveDefaults": "Spara standarder",
    "settings.savedDefaultsNote": "Sparade standarder används när du skapar en ny saga.",
  },

  es: {
    // ── Login ──
    "login.title.signIn": "Iniciar sesión",
    "login.title.signUp": "Crear cuenta",
    "login.authFailed": "Error de autenticación. Inténtalo de nuevo.",
    "login.email": "Correo electrónico",
    "login.password": "Contraseña",
    "login.pleaseWait": "Espera…",
    "login.signUp": "Registrarse",
    "login.signIn": "Iniciar sesión",
    "login.switchToSignIn": "¿Ya tienes cuenta? Iniciar sesión",
    "login.switchToSignUp": "¿Necesitas una cuenta? Regístrate",
    "login.backHome": "← Volver al inicio",
    "login.checkEmail": "Revisa tu correo para el enlace de confirmación.",
    "login.genericError": "Algo salió mal",
    "login.loading": "Cargando…",

    // ── Library ──
    "library.title": "Biblioteca",
    "library.signOut": "Cerrar sesión",
    "library.newStory": "Nueva historia",
    "library.createNewStory": "Crear nueva historia",

    // ── Book details dialog ──
    "bookDetails.delete": "Eliminar",
    "bookDetails.startReading": "Empezar a leer",
    "bookDetails.close": "Cerrar",
    "bookDetails.confirmDelete": "¿Eliminar esta historia?",
    "bookDetails.storyFallback": "Historia",

    // ── Story card (debug) ──
    "storyCard.debugInfo": "Info de depuración",
    "storyCard.deleteStory": "Eliminar historia",
    "storyCard.confirmDelete": "¿Eliminar esta historia?",
    "storyCard.formValues": "Valores del formulario (tono, duración, palabras, etiquetas)",
    "storyCard.storySpec": "Especificación de la historia",
    "storyCard.openaiPrompt": "Prompt OpenAI (capítulo 1)",
    "storyCard.noPrompt": "(No hay prompt guardado)",
    "storyCard.openaiResponse": "Respuesta OpenAI (párrafos)",
    "storyCard.noResponse": "(No hay respuesta guardada)",

    // ── Create page ──
    "create.backLibrary": "← Biblioteca",
    "create.title": "Crear historia",
    "create.debug": "Depurar",
    "create.pocDebug": "POC Depuración",
    "create.formValues": "Valores del formulario (tono, duración, palabras, etiquetas)",
    "create.storySpec": "Especificación (construida desde el formulario)",
    "create.openaiPrompt": "Prompt OpenAI (capítulo 1)",
    "create.openaiNote": "La respuesta de OpenAI aparece en la biblioteca tras generar.",
    "create.tone": "Tono",
    "create.factsOnly": "¿Solo datos?",
    "create.factsOnlyDesc": "Recopilar datos en lugar de una historia",
    "create.wordsLabel": "Palabras o ideas para tu historia",
    "create.wordsPlaceholder": "ej. un conejito, un bosque mágico, un búho amable...",
    "create.tags": "Etiquetas",
    "create.extraOptions": "Opciones extra",
    "create.language": "Idioma",
    "create.voiceQuality": "Calidad de voz",
    "create.voiceTier.standard": "Estándar",
    "create.voiceTier.premium": "Premium",
    "create.narrator": "Narrador",
    "create.previewVoice": "Vista previa de voz",
    "create.previewUnavailable": "La vista previa de voz no está disponible.",
    "create.previewFailed": "Error en la vista previa",
    "create.length": "Duración",
    "create.length.micro": "Rápido",
    "create.length.short": "Corto",
    "create.length.medium": "Medio",
    "create.length.long": "Largo",
    "create.include": "Incluir",
    "create.voiceNarration": "Narración con voz",
    "create.toggleVoice": "Activar o desactivar narración con voz",
    "create.illustrations": "Ilustraciones",
    "create.toggleIllustrations": "Activar o desactivar ilustraciones",
    "create.storyRules": "Reglas de la historia",
    "create.storyRulesPlaceholder": "ej. Tema de Halloween. Santa es siempre el malo...",
    "create.creating": "Creando tu historia...",
    "create.generating": "Generando tu historia…",
    "create.generate": "Generar",
    "create.failedGenerate": "Error al generar la historia",

    // ── Tone names ──
    "tone.cozy": "Acogedor",
    "tone.funny": "Divertido",
    "tone.adventurous": "Aventurero",
    "tone.informatical": "Informativo",
    "tone.cozy.desc": "Cálido, suave, para la hora de dormir",
    "tone.funny.desc": "Juguetón, con humor",
    "tone.adventurous.desc": "Emocionante, explorador",
    "tone.informatical.desc": "Educativo, estilo ciencia para niños",

    // ── Story page ──
    "story.loading": "Cargando…",
    "story.notFound": "No se encontró la historia.",
    "story.backLibrary": "← Biblioteca",
    "story.createNew": "Crear nueva",
    "story.toneLabel": "Tono:",
    "story.lengthLabel": "Duración:",
    "story.voiceFailed": "(Error de voz—revisa /api/debug/tts-config)",
    "story.addingMedia": "Añadiendo voz e imágenes…",
    "story.chapter": "Capítulo",
    "story.viewFullSize": "Ver a tamaño completo",
    "story.pause": "Pausar",
    "story.play": "Reproducir",
    "story.generatingNext": "Generando el siguiente capítulo…",
    "story.nextPart": "Siguiente parte",
    "story.fallbackTitle": "Historia",
    "story.directionLabel": "Añade algo a la historia",
    "story.directionPlaceholder": "ej. un perro, el espacio, el mar",

    // ── Coins ──
    "coins.balance": "monedas",
    "coins.cost": "monedas",
    "coins.notEnough": "No tienes suficientes monedas",
    "coins.insufficientError": "Necesitas más monedas para esto.",
    "coins.popup.title": "Cómo funcionan las monedas",
    "coins.popup.intro": "Las monedas se usan para generar capítulos. Las gastas al crear una historia nueva o añadir una parte.",
    "coins.popup.whatAffects": "Qué afecta al precio",
    "coins.popup.length": "Duración (Rápido / Corto / Medio / Largo): capítulos más largos cuestan más.",
    "coins.popup.voice": "Voz: voz estándar o premium añade coste.",
    "coins.popup.firstChapter": "El primer capítulo incluye imagen de portada y cuesta más que las partes siguientes.",
    "coins.popup.examples": "Ejemplos",
    "coins.popup.exampleShortTitle": "Historia corta",
    "coins.popup.exampleShortDesc": "1 capítulo, duración corta, con imagen y voz estándar.",
    "coins.popup.exampleMediumTitle": "Historia media (voz premium)",
    "coins.popup.exampleMediumDesc": "1 capítulo, duración media, con imagen y voz premium.",
    "coins.popup.exampleLongTitle": "Historia larga",
    "coins.popup.exampleLongDesc": "3 capítulos, duración larga, con imagen y voz estándar. Primer capítulo, luego cada continuación. Total:",

    // ── Settings ──
    "settings.title": "Ajustes",
    "settings.language": "Idioma",
    "settings.storyDefaults": "Valores por defecto de historias",
    "settings.theme": "Apariencia",
    "settings.themeLight": "Claro",
    "settings.themeDark": "Oscuro",
    "settings.themeSystem": "Sistema",
    "settings.saveDefaults": "Guardar valores por defecto",
    "settings.savedDefaultsNote": "Los valores guardados se usan al crear una nueva historia.",
  },
};

export function getTranslations(locale: Locale): (key: string) => string {
  const dict = translations[locale] ?? translations.en;
  return (key: string) => dict[key] ?? translations.en[key] ?? key;
}
